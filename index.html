<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1E3A8A">
    <meta name="description" content="EVERMIND - Your personal learning system with spaced repetition, bookmarks, and statistics tracking">
    <meta name="keywords" content="learning, education, flashcards, spaced repetition, study">
    <meta name="author" content="EVERMIND">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="icons/icon-192.svg">
    <link rel="apple-touch-icon" sizes="152x152" href="icons/icon-192.svg">
    <link rel="apple-touch-icon" sizes="180x180" href="icons/icon-192.svg">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="icons/icon-192.svg">
    <link rel="icon" type="image/png" href="icons/icon-192.svg">
    
    <!-- Theme Colors -->
    <meta name="msapplication-TileColor" content="#1E3A8A">
    <meta name="msapplication-config" content="browserconfig.xml">
    <title>EVERMIND - Personal Learning System</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="logos.css">
</head>
<body>
    <!-- Enhanced Loading Screen -->
    <div id="loadingScreen" class="loading-screen" role="status" aria-live="polite">
        <!-- Animated Background -->
        <div class="loading-background">
            <div class="gradient-orb orb-1"></div>
            <div class="gradient-orb orb-2"></div>
        </div>
        
        <!-- Main Content -->
        <div class="loading-content">
            <div class="loading-brand">
                <h1 class="loading-title">üß† EVERMIND</h1>
            </div>
            
            <!-- Did You Know Facts -->
            <div class="fact-container">
                <div class="fact-label">üí° Did you know?</div>
                <div class="fact-text" id="factText">Loading interesting facts...</div>
            </div>
            
            <!-- Enhanced Progress Bar -->
            <div class="progress-container">
                <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" id="progressBar">
                    <div class="progress-track"></div>
                    <div class="progress-fill" id="progressFill">
                        <div class="progress-glow"></div>
                    </div>
                </div>
                <div class="progress-text" id="progressText" aria-live="polite">0%</div>
                <div class="loading-status" id="loadingStatus">
                    <span class="loading-animated-text" id="loadingAnimatedText">Learn</span>
                </div>
            </div>
        </div>
        
        <!-- Static Brain for Reduced Motion -->
        <div class="static-brain-illustration" aria-hidden="true">
            <div class="static-brain">üß†</div>
        </div>
        
        <!-- Glass Morphism Overlay -->
        <div class="glass-overlay"></div>
    </div>

    <!-- Homepage -->
    <div id="homepage" class="page active">
        <header>
            <div class="header-left">
                <div class="xp-display">
                    <div class="level-info" id="levelDisplay">
                        <div class="level-badge">Level 1</div>
                        <div class="level-name">Bronze</div>
                    </div>
                    <div class="xp-bar-container">
                        <div class="xp-bar-bg">
                            <div class="xp-bar-fill" id="xpBar"></div>
                        </div>
                        <div class="xp-text">
                            <span id="pointsDisplay">0 XP</span>
                            <span id="streakDisplay">üî• 0</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header-center">
                <h1>üß† EVERMIND</h1>
                <div class="animated-subtitle" id="animatedSubtitle">
                    <span class="animated-word active" data-text="Learning üìö">Learning üìö</span>
                </div>
            </div>
                <div class="header-right">
                    <div class="global-search">
                        <input type="text" id="globalSearchInput" placeholder="Search all questions..." autocomplete="off">
                        <div class="search-results" id="searchResults"></div>
                    </div>
            <div class="theme-switcher">
                        <div class="theme-dropdown">
                            <button class="theme-dropdown-btn" onclick="toggleThemeDropdown()">
                                <span class="theme-icon">üé®</span>
                                <span class="theme-text">Themes</span>
                                <span class="dropdown-arrow">‚ñº</span>
                            </button>
                            <div class="theme-dropdown-menu" id="themeDropdownMenu">
                                <div class="theme-option" onclick="setTheme('light')" data-theme="light">
                                    <span class="theme-emoji">‚òÄÔ∏è</span>
                                    <span class="theme-name">Light</span>
                                </div>
                                <div class="theme-option" onclick="setTheme('dark')" data-theme="dark">
                                    <span class="theme-emoji">üåô</span>
                                    <span class="theme-name">Dark</span>
                                </div>
                                <div class="theme-option" onclick="setTheme('red')" data-theme="red">
                                    <span class="theme-emoji">üî•</span>
                                    <span class="theme-name">Fire</span>
                                </div>
                                <div class="theme-option" onclick="setTheme('blue')" data-theme="blue">
                                    <span class="theme-emoji">üíß</span>
                                    <span class="theme-name">Water</span>
                                </div>
                                <div class="theme-option" onclick="setTheme('purple')" data-theme="purple">
                                    <span class="theme-emoji">üíú</span>
                                    <span class="theme-name">Purple</span>
                                </div>
                                <div class="theme-option" onclick="setTheme('green')" data-theme="green">
                                    <span class="theme-emoji">üåø</span>
                                    <span class="theme-name">Nature</span>
                                </div>
                                <div class="theme-option" onclick="setTheme('orange')" data-theme="orange">
                                    <span class="theme-emoji">üåÖ</span>
                                    <span class="theme-name">Sunset</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button id="continueBtn" class="continue-btn" onclick="resumeSavedProgress()" style="display: none;">
                        <span class="continue-icon">‚ñ∂Ô∏è</span>
                        <span class="continue-text">Continue</span>
                    </button>
                    <button id="calendarBtn" class="calendar-btn" onclick="openCalendarModal()" title="View Attendance Calendar">
                        <span class="calendar-icon">üìÖ</span>
                        <span class="calendar-text">Calendar</span>
                    </button>
                    <button id="muteBtn" class="mute-btn" onclick="if(window.SoundEffects) window.SoundEffects.toggleMute()" title="Toggle Sound Effects">
                        <span class="mute-icon">üîä</span>
                    </button>
                    <button id="lowDataToggle" class="btn btn--nav" onclick="toggleLowDataMode()" title="Toggle Low Data Mode">
                        Low Data: OFF
                    </button>
                    <div id="offlineIndicator" class="offline-indicator" style="display: none;">
                        üì° Offline
                    </div>
                    <div id="queueCount" class="queue-count" style="display: none;">
                        <span id="queueCount">0</span> queued
                    </div>
            </div>
        </header>

        <div class="sections-grid">
            <div class="section-card" onclick="console.log('üîç DEBUG: Languages clicked'); openSection('languages')">
                <div class="card-icon">üåç</div>
                <h2>Languages</h2>
                <p>Learn translations and pronunciation</p>
                <div class="section-stats">
                    <span class="question-count" id="languages-count">0 questions</span>
                    <span class="bookmark-count" id="languages-bookmarks">0 bookmarked</span>
                </div>
            </div>

            <div class="section-card" onclick="openSection('programming')">
                <div class="card-icon">üíª</div>
                <h2>Programming</h2>
                <p>Master code syntax and concepts</p>
                <div class="section-stats">
                    <span class="question-count" id="programming-count">0 questions</span>
                    <span class="bookmark-count" id="programming-bookmarks">0 bookmarked</span>
                </div>
            </div>

            <div class="section-card" onclick="openSection('bible')">
                <div class="card-icon">üìñ</div>
                <h2>Bible</h2>
                <p>Study verses and biblical knowledge</p>
                <div class="section-stats">
                    <span class="question-count" id="bible-count">0 questions</span>
                    <span class="bookmark-count" id="bible-bookmarks">0 bookmarked</span>
                </div>
            </div>

            <div class="section-card" onclick="openSection('science')">
                <div class="card-icon">üî¨</div>
                <h2>Science</h2>
                <p>Explore scientific facts and concepts</p>
                <div class="section-stats">
                    <span class="question-count" id="science-count">0 questions</span>
                    <span class="bookmark-count" id="science-bookmarks">0 bookmarked</span>
                </div>
            </div>

            <div class="section-card" onclick="openSection('history')">
                <div class="card-icon">üèõÔ∏è</div>
                <h2>History</h2>
                <p>Remember important historical events</p>
                <div class="section-stats">
                    <span class="question-count" id="history-count">0 questions</span>
                    <span class="bookmark-count" id="history-bookmarks">0 bookmarked</span>
                </div>
            </div>

            <div class="section-card" onclick="openSection('facts')">
                <div class="card-icon">üí°</div>
                <h2>Random Facts</h2>
                <p>Interesting facts from around the world</p>
                <div class="section-stats">
                    <span class="question-count" id="facts-count">0 questions</span>
                    <span class="bookmark-count" id="facts-bookmarks">0 bookmarked</span>
                </div>
            </div>

            <div class="section-card" onclick="openSection('country_flags')">
                <div class="card-icon">üö©</div>
                <h2>Country Flags</h2>
                <p>Identify flags from around the world</p>
                <div class="section-stats">
                    <span class="question-count" id="country_flags-count">0 questions</span>
                    <span class="bookmark-count" id="country_flags-bookmarks">0 bookmarked</span>
                </div>
            </div>

            <div class="section-card" onclick="openSection('new_words')">
                <div class="card-icon">üìù</div>
                <h2>New Words</h2>
                <p>Expand your vocabulary</p>
                <div class="section-stats">
                    <span class="question-count" id="new_words-count">0 words</span>
                    <span class="bookmark-count" id="new_words-bookmarks">0 bookmarked</span>
                </div>
            </div>

            <div class="section-card" onclick="openSection('youtube_knowledge')">
                <div class="card-icon">üé•</div>
                <h2>YouTube Knowledge</h2>
                <p>Interesting facts from videos</p>
                <div class="section-stats">
                    <span class="question-count" id="youtube_knowledge-count">0 facts</span>
                    <span class="bookmark-count" id="youtube_knowledge-bookmarks">0 bookmarked</span>
                </div>
            </div>

            <div class="section-card" onclick="openSection('memes_brainrot')">
                <div class="card-icon">üß†</div>
                <h2>Memes & Brain Rot</h2>
                <p>Stay current with Gen Z slang</p>
                <div class="section-stats">
                    <span class="question-count" id="memes_brainrot-count">0 terms</span>
                    <span class="bookmark-count" id="memes_brainrot-bookmarks">0 bookmarked</span>
                </div>
            </div>
            
            <div class="section-card" onclick="openBookmarkedQuestions()">
                <div class="card-icon">üìå</div>
                <h2>Bookmarked Questions</h2>
                <p>Review your flagged questions</p>
                <div class="section-stats">
                    <span class="question-count" id="bookmarked-count">0 bookmarked</span>
                    <span class="bookmark-count">Click to review</span>
                </div>
            </div>
            
            <div class="section-card" onclick="console.log('üîç DEBUG: Statistics clicked'); openStatistics()">
                <div class="card-icon">üìä</div>
                <h2>Study Statistics</h2>
                <p>View your learning progress</p>
                <div class="section-stats">
                    <span class="question-count" id="stats-summary">0 answered</span>
                    <span class="bookmark-count">View dashboard</span>
                </div>
            </div>
            
        </div>

        <div class="global-revision">
            <h3>Global Revision Mode</h3>
            <div class="section-checkboxes" id="sectionCheckboxes">
                <label><input type="checkbox" value="languages" checked> üåç Languages</label>
                <label><input type="checkbox" value="programming" checked> üíª Programming</label>
                <label><input type="checkbox" value="bible" checked> üìñ Bible</label>
                <label><input type="checkbox" value="science" checked> üî¨ Science</label>
                <label><input type="checkbox" value="history" checked> üèõÔ∏è History</label>
                <label><input type="checkbox" value="facts" checked> üéØ Random Facts</label>
                <label><input type="checkbox" value="country_flags" checked> üè≥Ô∏è Country Flags</label>
                <label><input type="checkbox" value="new_words" checked> üìö New Words</label>
                <label><input type="checkbox" value="youtube_knowledge" checked> üì∫ YouTube Knowledge</label>
                <label><input type="checkbox" value="memes_brainrot" checked> üß† Memes & Brain Rot</label>
            </div>
            <button class="big-btn primary-btn" onclick="startGlobalRevision()">Start Global Revision</button>
        </div>
    </div>

    <!-- Section View -->
    <div id="sectionView" class="page">
        <header>
            <button class="btn btn--nav" onclick="backToHome()">Back</button>
            <h1 id="sectionTitle">Section</h1>
        </header>

        <div class="section-actions">
            <button class="btn btn--primary" onclick="startSectionRevision()">Start Revision Mode</button>
        </div>

        <div class="questions-list" id="questionsList">
            <!-- Questions will be dynamically loaded here -->
        </div>
    </div>

    <!-- Revision Mode -->
    <div id="revisionMode" class="page">
        <header class="revision-header">
            <div class="header-left">
                <button class="btn btn--nav" onclick="exitRevision()">Exit</button>
            </div>
            <div class="header-center">
                <h1>Revision Mode</h1>
                <div class="progress-stats">
                    <span class="stat timer">‚è±Ô∏è <span id="revisionTimer">00:00</span></span>
                    <span class="stat correct">‚úì <span id="correctCount">0</span> correct</span>
                    <span class="stat wrong">‚úó <span id="wrongCount">0</span> wrong</span>
                    <span class="stat remaining">‚è≥ <span id="remainingCount">0</span> left</span>
                </div>
            </div>
            <div class="header-right">
                <!-- Reserved for future controls -->
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar-bg">
                    <div class="progress-bar-fill" id="progressBarFill"></div>
                </div>
                <div class="progress-percentage" id="progressPercentage">0% complete</div>
            </div>
        </header>

        <div class="revision-container">
            <div class="question-card" id="questionCard">
                <div class="question-header">
                    <button class="bookmark-btn" id="bookmarkBtn" title="Bookmark this question">
                        <span class="bookmark-icon">‚≠ê</span>
                    </button>
                </div>
                <div class="question-content" id="questionContent">
                    <!-- Question will be displayed here -->
                </div>
                <div class="answer-content" id="answerContent" style="display: none;">
                    <!-- Answer will be displayed here -->
                </div>
            </div>

            <div class="revision-controls">
                <button class="btn btn--nav" onclick="previousQuestion()">Previous</button>
                <button class="btn btn--nav" onclick="skipQuestion()">Skip</button>
                <button class="btn btn--primary" id="showAnswerBtn" onclick="showAnswer()">Show Answer</button>
                <button class="btn btn--nav" onclick="nextQuestion()">Next</button>
            </div>

            <div class="answer-controls" id="answerControls" style="display: none;">
                <button class="btn btn--danger" onclick="markWrong()">Wrong</button>
                <button class="btn btn--success" onclick="markCorrect()">Correct</button>
            </div>
        </div>
    </div>

    <!-- AI Chat Page -->
    <div id="aiChatPage" class="page">
        <header>
            <button class="btn btn--nav" onclick="closeAIChat()">Back</button>
            <h1>ü§ñ AI Assistant</h1>
        </header>
        <div class="ai-chat-container">
            <div class="ai-chat-messages" id="aiChatMessages"></div>
            <div class="ai-chat-input-container">
                <textarea id="aiChatInput" placeholder="Ask me anything..." rows="3"></textarea>
                <button class="btn btn--primary" onclick="sendAIMessage()">Send</button>
            </div>
        </div>
    </div>

    <!-- Notes Modal -->
    <div id="notesModal" class="modal notes-modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìù Notes</h2>
                <button class="modal-close" onclick="closeNotesModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="notes-toolbar">
                    <button class="btn btn--primary" onclick="createNewNote()">New Note</button>
                    <div class="notes-search">
                        <input type="text" id="notesSearch" placeholder="Search notes..." onkeyup="searchNotes()">
                    </div>
                </div>
                <div class="notes-container" id="notesContainer">
                    <div class="notes-list" id="notesList">
                        <!-- Notes will be loaded here -->
                    </div>
                    <div class="notes-loading" id="notesLoading" style="display: none;">
                        Loading notes...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Note Edit Modal -->
    <div id="noteEditModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="noteEditTitle">Edit Note</h3>
                <button class="modal-close" onclick="closeNoteEditModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <textarea id="noteEditContent" placeholder="Enter your note content..." rows="10"></textarea>
                <div class="note-edit-actions">
                    <button class="btn btn--primary" onclick="saveNote()">Save</button>
                    <button class="btn btn--danger" onclick="deleteNote()">Delete</button>
                    <button class="btn btn--nav" onclick="closeNoteEditModal()">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Calendar Modal -->
    <div id="calendarModal" class="modal calendar-modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìÖ Attendance Calendar</h2>
                <button class="modal-close" onclick="closeCalendarModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="calendar-stats">
                    <div class="stat-item">
                        <span class="stat-label">Total Days:</span>
                        <span class="stat-value" id="totalDays">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Current Streak:</span>
                        <span class="stat-value" id="currentStreak">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">This Month:</span>
                        <span class="stat-value" id="thisMonth">0</span>
                    </div>
                </div>
                <div class="calendar-container">
                    <div class="calendar-header">
                        <button class="calendar-nav" onclick="previousMonth()">‚Äπ</button>
                        <h3 id="calendarMonthYear">January 2024</h3>
                        <button class="calendar-nav" onclick="nextMonth()">‚Ä∫</button>
                    </div>
                    <div class="calendar-grid" id="calendarGrid">
                        <!-- Calendar days will be generated here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Secret Vision Board Modal -->
    <div id="secretVisionModal" class="modal secret-vision-modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üîÆ Secret Vision Board</h2>
                <button class="modal-close" onclick="closeSecretVisionModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <div id="secretVisionContent">
                    <!-- Content will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Secret Vision Board PIN Modal -->
    <div id="secretPinModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üîê Enter Secret PIN</h2>
                <button class="modal-close" onclick="closeSecretPinModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="pin-input-container">
                    <input type="password" id="secretPinInput" placeholder="Enter your secret PIN" maxlength="20">
                    <div id="pinError" class="pin-error" style="display: none;"></div>
                    <div class="pin-actions">
                        <button class="btn btn--primary" onclick="verifySecretPin()">Enter</button>
                        <button class="btn btn--nav" onclick="closeSecretPinModal()">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Secret Vision Board Slideshow -->
    <div id="secretSlideshow" class="secret-slideshow" style="display: none;">
        <div class="slideshow-header">
            <button class="slideshow-close" onclick="closeSecretSlideshow()">‚úï</button>
            <div class="slideshow-controls">
                <button class="slideshow-btn" onclick="previousSlide()">‚Äπ</button>
                <span id="slideCounter">1 / 1</span>
                <button class="slideshow-btn" onclick="nextSlide()">‚Ä∫</button>
            </div>
        </div>
        <div class="slideshow-content" id="slideshowContent">
            <!-- Slides will be loaded here -->
        </div>
        <div class="slideshow-footer">
            <button class="btn btn--primary" onclick="addSecretItem()">Add Item</button>
            <button class="btn btn--nav" onclick="manageSecretItems()">Manage</button>
        </div>
    </div>

    <!-- Secret Item Management Modal -->
    <div id="secretItemModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="secretItemTitle">Add Secret Item</h3>
                <button class="modal-close" onclick="closeSecretItemModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <form id="secretItemForm">
                    <div class="form-group">
                        <label for="itemType">Type:</label>
                        <select id="itemType" onchange="toggleItemFields()">
                            <option value="affirmation">Affirmation</option>
                            <option value="image">Image</option>
                        </select>
                    </div>
                    <div class="form-group" id="textField">
                        <label for="itemText">Text:</label>
                        <textarea id="itemText" placeholder="Enter your affirmation..." rows="4"></textarea>
                    </div>
                    <div class="form-group" id="imageField" style="display: none;">
                        <label for="itemImageUrl">Image URL:</label>
                        <input type="url" id="itemImageUrl" placeholder="https://example.com/image.jpg">
                    </div>
                    <div class="form-group">
                        <label for="itemTags">Tags (comma-separated):</label>
                        <input type="text" id="itemTags" placeholder="motivation, goals, success">
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn--primary">Save</button>
                        <button type="button" class="btn btn--nav" onclick="closeSecretItemModal()">Cancel</button>
                        <button type="button" class="btn btn--danger" id="deleteItemBtn" onclick="deleteSecretItem()" style="display: none;">Delete</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Quick Launch Sidebar -->
    <button class="quick-launch-toggle" id="quickLaunchToggle" title="Quick Launch">
        <span class="toggle-icon">‚ò∞</span>
    </button>
    
    <div class="quick-launch-sidebar" id="quickLaunchSidebar">
        <div class="quick-launch-header">
            <h3>Quick Launch</h3>
            <button class="close-sidebar" id="closeSidebar">‚úï</button>
        </div>
        <div class="quick-launch-apps">
            <button class="quick-launch-btn" data-app="youtube">
                <span class="app-icon youtube"></span>
                <span class="app-name">YouTube</span>
            </button>
            <button class="quick-launch-btn" data-app="chatgpt">
                <span class="app-icon chatgpt"></span>
                <span class="app-name">ChatGPT</span>
            </button>
            <button class="quick-launch-btn" data-app="gemini">
                <span class="app-icon gemini"></span>
                <span class="app-name">Gemini</span>
            </button>
            <button class="quick-launch-btn" data-app="w3schools">
                <span class="app-icon w3schools"></span>
                <span class="app-name">W3Schools</span>
            </button>
            <button class="quick-launch-btn" data-app="newtab">
                <span class="app-icon newtab"></span>
                <span class="app-name">New Tab</span>
            </button>
            <button class="quick-launch-btn" data-app="notes" id="notesBtn">
                <span class="app-icon notes">üìù</span>
                <span class="app-name">Notes</span>
            </button>
            <button class="quick-launch-btn" data-app="home">
                <span class="app-icon home"></span>
                <span class="app-name">Home</span>
            </button>
            <button class="quick-launch-btn" data-app="askai">
                <span class="app-icon askai"></span>
                <span class="app-name">Ask AI</span>
            </button>
        </div>
    </div>


    <!-- Floating Bubbles Background -->
    <div class="floating-bubbles" id="bubbles">
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
    </div>

    <script src="sound_effects.js"></script>
    <script src="gamification.js"></script>
    <script src="audio_player.js"></script>
    <script src="code_editor.js"></script>
    <script src="statistics.js"></script>
    <script src="main.js"></script>
</body>
</html>

